<!DOCTYPE html>
<html>
    <head>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="apForHtml.js" defer></script> 
        <title>AUMS SignIn Page</title> 
    </head>
    <body>

        <script>
            function func(){
                // if(document.getElementById("login_input_user_password").value == document.getElementById("login_input_confirm_password").value){
                //  document.getElementById("msg").innerHTML = "";   

                // }
                // else{
                //    var item = document.getElementById("msg")
                //    document.getElementById("login_input_user_password").value = "";
                //    document.getElementById("login_input_confirm_password").value = "";
                //    item.innerHTML = "the passwords do not match!"
                //    item.style.color = 'red';
                    
                // }
                console.log("hello man how are you!!");
            if(document.getElementById("login_input_user_password").value == document.getElementById("login_input_confirm_password").value && document.getElementById("login_input_user_password").value!=""){
                document.getElementById("msg").innerHTML = "";   
                
            axios
            .post("http://localhost:8080/credentials",{user_name:document.getElementById("login_input_name").value,user_password:document.getElementById("login_input_user_password").value}) 
            .then(res=>{
                // console.log(res.data);
                var userName = document.getElementById("login_input_name").value;
                document.getElementById("login_input_name").value = "";
                document.getElementById("login_input_user_password").value = "";
                document.getElementById("login_input_confirm_password").value = "";
                return userName;

            })
            .then(data=>{
                // location.assign("");
                // location.assign(data);
                console.log(data);
                location.assign("/"+data);

            }).catch(err=>{
                alert("something went wrong!!");
            });

       }
       else{
          var item = document.getElementById("msg")
          document.getElementById("login_input_user_password").value = "";
          document.getElementById("login_input_confirm_password").value = "";
          item.innerHTML = "the passwords do not match!"
          item.style.color = 'red';
           
       }
            }
        </script>
        <link rel="stylesheet" href="stylesheets/style.css"  type="text/css" />
        
      
    <!-- <form action="http://127.0.0.1:8080/singin" method="POST"> -->
        <div id ="mainDiv">
            <h4 id ="titleText">Sign Up</h4>
        <div>
            <h3>Name</h3>
            <input id='login_input_name' type="text"  name="user_name" ><br>
        </div>
         <div>
            <h3>password</h3>
            <input id='login_input_user_password' type="password"  name="user_password" ><br>
        </div>    
        <div>
            <h3>confirm password</h3>
            <input id='login_input_confirm_password' type="password"  name="user_confirm_password" ><br>
        </div>
        <div>
            <p id='msg'></p>
        </div>
        <div>
            <button id="sumitBtn" type="submit" onclick="func()">Submit</button>
        </div>
    </div>
    <!-- </form> -->
    <!-- </form> -->
    <!-- </form> -->

        <!-- </form> -->
    </body>
</html>